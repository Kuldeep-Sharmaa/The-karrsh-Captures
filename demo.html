<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Page</title>
    <style>
      /* Simple styling for the toast */
      #toast {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #333;
        color: white;
        padding: 15px;
        border-radius: 5px;
        z-index: 1000;
      }
      #toast button {
        background: transparent;
        border: none;
        color: white;
        font-size: 1rem;
        margin-left: 10px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- Toast -->
    <div id="toast">
      <span id="toastMessage">Welcome to the Contact Page!</span>
      <button id="toastCloseBtn">&times;</button>
    </div>

    <!-- Page Content -->
    <div class="button-container text-center mt-4">
      <button type="button" id="exploreCategoryBtn">
        Explore Next Category
      </button>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const toast = document.getElementById("toast");
        const toastCloseBtn = document.getElementById("toastCloseBtn");
        const exploreCategoryBtn =
          document.getElementById("exploreCategoryBtn");
        const toastKey = "contactToastShown"; // Local storage key
        const navigationKey = "navigatedFromButton"; // Session storage key

        // Function to show the toast
        const showToast = (message, duration = 3000) => {
          const toastMessage = document.getElementById("toastMessage");
          toastMessage.textContent = message;
          toast.style.display = "flex";

          // Auto-hide the toast after the specified duration
          setTimeout(() => {
            toast.style.display = "none";
          }, duration);
        };

        // Handle toast display logic
        const handleToastDisplay = () => {
          // If navigated via "Explore Next Category" button, do not show the toast
          if (sessionStorage.getItem(navigationKey)) {
            sessionStorage.removeItem(navigationKey); // Clear the flag
            return;
          }

          // Show the toast only once if not already shown
          if (!localStorage.getItem(toastKey)) {
            showToast("Welcome to the Contact Page!");
            localStorage.setItem(toastKey, "true"); // Mark the toast as shown
          }
        };

        // Add click event to the "Explore Next Category" button
        if (exploreCategoryBtn) {
          exploreCategoryBtn.addEventListener("click", () => {
            sessionStorage.setItem(navigationKey, "true"); // Set navigation flag
            window.location.href = "category.html"; // Replace with actual category URL
          });
        }

        // Add click event to close the toast manually
        if (toastCloseBtn) {
          toastCloseBtn.addEventListener("click", () => {
            toast.style.display = "none";
          });
        }

        // Initialize the toast logic
        handleToastDisplay();
      });
    </script>
  </body>
</html>
