<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The karrsh Captures</title>
    <link rel="shortcut icon" href="img/UTK.jpg" type="image/x-icon" />
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <!-- Styling -->
    <link rel="stylesheet" href="style/responsive.css" />
    <link rel="stylesheet" href="style/style.css" />
    <!-- font-kit -->
    <script
      src="https://kit.fontawesome.com/d8f48d71cd.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <section class="main">
      <!-- Navbar (Desktop and Mobile versions) -->
      <header class="d-none d-md-block">
        <!-- logo-nav -->
        <div class="container-fluid" id="header_logo">
          <div class="row text-center text-white into">
            <div class="col-md-4">www.ThekarrshCaptures.com</div>
            <div class="col-md-4 fs-3">~ TKC ~</div>
            <div class="col-md-4">
              <i class="fa-brands fa-instagram mx-3"></i>
              <i class="fa-brands fa-facebook mx-3"></i>
              <i class="fa-brands fa-twitter mx-3"></i>
            </div>
          </div>
        </div>
        <!-- nav-links -->
        <div class="container-fluid" id="nav_links">
          <div class="row">
            <div class="col-md-12 text-center">
              <a class="links mx-4" href="#">Skills</a>
              <span>-</span>
              <a class="links mx-4" href="index.html">Home</a>
              <span>-</span>
              <a class="links mx-4" href="contact.html">Contact Us</a>
              <span>-</span>
              <a class="links mx-4" href="#">Reviews</a>
              <span>-</span>
              <a class="links mx-4" href="#">Portfolio</a>
            </div>
          </div>
        </div>
      </header>

      <header class="d-md-none">
        <!-- Mobile version Navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">~ TKC ~</a>
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#mobileNavbar"
              aria-controls="mobileNavbar"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
        </nav>

        <div class="collapse navbar-collapse bg-dark" id="mobileNavbar">
          <div class="container-fluid text-white text-center py-3">
            <div>
              <a class="links d-block py-2" href="#">Skills</a>
              <a class="links d-block py-2" href="index.html">Home</a>
              <a class="links d-block py-2" href="contact.html">Contact Us</a>
              <a class="links d-block py-2" href="#">Reviews</a>
              <a class="links d-block py-2" href="#">Portfolio</a>
            </div>
            <div class="mb-3">www.ThekarrshCaptures.com</div>
            <div>
              <i class="fa-brands fa-instagram mx-2"></i>
              <i class="fa-brands fa-facebook mx-2"></i>
              <i class="fa-brands fa-twitter mx-2"></i>
            </div>
          </div>
        </div>
      </header>
    </section>

    <!-- Gallery Section -->
    <main id="gallery-section">
      <!-- Heading for selected category -->
      <div class="container">
        <div class="row text-center text-white fw-bold">
          <h1>
            Captivating Photography of
            <span id="category-name"></span>
          </h1>
        </div>
      </div>
      <div id="gallery" class="gallery-container">
        <!-- Add more images as needed -->
      </div>
    </main>

    <!-- Modal for Image Viewer with Bootstrap Carousel -->
    <div
      class="modal fade"
      id="imageModal"
      tabindex="-1"
      aria-labelledby="imageModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-body p-0">
            <!-- Carousel -->
            <div
              id="imageCarousel"
              class="carousel slide"
              data-bs-ride="carousel"
            >
              <div class="carousel-inner" id="carouselImages"></div>
              <!-- Carousel controls -->
              <button
                class="carousel-control-prev"
                type="button"
                data-bs-target="#imageCarousel"
                data-bs-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button
                class="carousel-control-next"
                type="button"
                data-bs-target="#imageCarousel"
                data-bs-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Section -->
    <footer class="footer bg-dark text-white py-5">
      <div class="container">
        <div class="row">
          <div class="col-md-4 text-center text-md-start">
            <h3 class="mb-3">~ TKC ~</h3>
            <p class="mb-0">Freelance Photography Agency</p>
            <small
              >&copy; 2025 All Rights Reserved.<br />TKCTheme, Designed by The
              Karish Captures</small
            >
          </div>
          <div class="col-md-4 text-center">
            <h5 class="mb-3">OUR OFFICE ADDRESS</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
            <p>State: Delhi, India</p>
            <p>800 2345 5678</p>
            <p>
              <a href="mailto:info@tkc.com" class="text-white">info@tkc.com</a>
            </p>
          </div>
          <div class="col-md-4 text-center text-md-end">
            <h5 class="mb-3">SITE LINKS</h5>
            <ul class="list-unstyled">
              <li>
                <a href="#" class="text-white text-decoration-none">Home</a>
              </li>
              <li>
                <a href="#" class="text-white text-decoration-none">About Us</a>
              </li>
              <li>
                <a href="#" class="text-white text-decoration-none"
                  >Photography</a
                >
              </li>
              <li>
                <a href="#" class="text-white text-decoration-none">Services</a>
              </li>
              <li>
                <a href="#" class="text-white text-decoration-none"
                  >Contact Us</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Get the selected category from the URL
      const urlParams = new URLSearchParams(window.location.search);
      const category = urlParams.get("category");

      // Update the category name in the HTML
      const categoryNameElement = document.getElementById("category-name");
      if (category) {
        categoryNameElement.textContent = category;
      } else {
        categoryNameElement.textContent = "Default Category";
      }

      // Reference to the gallery container in the HTML
      const galleryElement = document.getElementById("gallery");

      // Define the folder path for the category, with a fallback to a default category
      const categoryPath = category
        ? `../images/${category.toLowerCase()}/`
        : `../images/default/`; // Default folder

      // Maximum number of attempts to find images
      const maxAttempts = 200; // Adjust this based on your needs

      // Variable to track if images were found
      let imagesFound = false;

      // Variable to store loaded images
      let images = [];

      // Function to dynamically load images
      function loadImages() {
        for (let i = 1; i <= maxAttempts; i++) {
          // Construct the image path
          const categoryPath = `../images/${category?.toLowerCase()}/`;

          // Create an image element
          const imgElement = document.createElement("img");
          imgElement.src = imagePath;
          imgElement.alt = `${category || "Default"} photo`;
          imgElement.classList.add("gallery-image");

          // Handle image loading success
          imgElement.onload = () => {
            imagesFound = true;
            images.push(imagePath); // Store image path in the images array
            galleryElement.appendChild(imgElement); // Add the image to the gallery
          };

          // Handle image loading failure (only for the last attempt)
          imgElement.onerror = () => {
            if (i === maxAttempts && !imagesFound) {
              galleryElement.innerHTML = `
          <p style="font-size: 1.5rem; color: #888; text-align: center; margin-top: 20px;">
            No images found for the selected category. Please try a different category or check back later.
          </p>`;
            }
          };

          // Add click event to open modal
          imgElement.onclick = () => openModal(images.length - 1);
        }
      }

      // Function to open the modal with the selected image
      function openModal(index) {
        const carouselInner = document.getElementById("carouselImages");
        carouselInner.innerHTML = images
          .map(
            (src, idx) => `
      <div class="carousel-item ${idx === index ? "active" : ""}">
        <img src="${src}" class="d-block w-100" alt="Image ${idx + 1}">
      </div>`
          )
          .join("");
        const modal = new bootstrap.Modal(
          document.getElementById("imageModal")
        );
        modal.show();
      }

      // Validate and load images for a valid category
      if (category || category === null) {
        loadImages();
      } else {
        galleryElement.innerHTML = `
    <p style="font-size: 1.2rem; color: #666; text-align: center;">
      Please select a category from the URL to view images.
    </p>`;
      }
    </script>
  </body>
</html>
